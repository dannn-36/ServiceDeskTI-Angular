<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ServiceDesk TI - Panel Administrador</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="../CSS/admin.css">
</head>
<body class="bg-gray-50 h-screen overflow-hidden">

<!-- Header -->
<header class="bg-white shadow-sm border-b border-gray-200 h-16 flex-shrink-0 z-10">
    <div class="h-full px-6 flex justify-between items-center">
        <!-- Lado izquierdo -->
        <div class="flex items-center space-x-4">
            <div class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-purple-600 rounded-lg flex items-center justify-center">
                    <span class="text-white font-bold text-sm">AD</span>
                </div>
                <h1 class="text-xl font-bold text-gray-900">ServiceDesk TI</h1>
            </div>
            <span class="text-gray-400">|</span>
            <span class="text-sm text-gray-600">Panel Administrador</span>
        </div>

        <!-- Lado derecho -->
        <div class="flex items-center space-x-4">
            <div class="flex items-center space-x-4 text-sm">
                <!-- Notificaciones -->
                <div class="relative">
                    <button class="p-2 text-gray-400 hover:text-gray-600 transition-colors" onclick="showNotifications()">
                        üîî
                    </button>
                    <div class="absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full notification-dot"></div>
                </div>

                <!-- Perfil admin -->
                <div class="flex items-center space-x-2 text-gray-600 cursor-pointer" onclick="showProfileModal()">
                    <div class="w-8 h-8 bg-purple-100 rounded-full flex items-center justify-center">
                        <span>üë®‚Äçüíº</span>
                    </div>
                    <span id="profileName">Admin Sistema</span>
                </div>
            </div>

            <!-- Bot√≥n de ajustes -->
            <button class="text-gray-400 hover:text-gray-600 transition-colors"
                    onclick="showProfileModal()" aria-label="Ajustes" title="Editar perfil">
                ‚öôÔ∏è
            </button>

            <!-- Bot√≥n de cerrar sesi√≥n (puerta SVG) -->
            <button id="logoutBtn"
                class="ml-2 flex items-center space-x-2 bg-red-50 hover:bg-red-100 text-red-600 px-3 py-1.5 rounded-md border border-red-100 shadow-sm transition-colors"
                onclick="confirmLogout()"
                aria-label="Cerrar sesi√≥n"
                title="Cerrar sesi√≥n">
                <svg xmlns="http://www.w3.org/2000/svg"
                     class="h-5 w-5" fill="none"
                     viewBox="0 0 24 24"
                     stroke="currentColor" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                          d="M15 3h4a2 2 0 012 2v14a2 2 0 01-2 2h-4M10 17l5-5-5-5v10z" />
                </svg>
                <span class="text-sm font-medium">Salir</span>
            </button>
        </div>
    </div>
</header>





    <div class="flex h-full">

       <!-- Sidebar -->
<div class="w-64 bg-white border-r border-gray-200 flex flex-col">
    <nav class="flex-1 p-4 space-y-2">
        <div class="sidebar-item active px-3 py-2 rounded-lg cursor-pointer transition-colors" onclick="showSection('dashboard', this)">
    <div class="flex items-center space-x-3">
        <span class="text-lg">üìä</span>
        <span class="font-medium">Dashboard</span>
    </div>
</div>
<div class="sidebar-item px-3 py-2 rounded-lg cursor-pointer transition-colors" onclick="showSection('users', this)">
    <div class="flex items-center space-x-3">
        <span class="text-lg">üë•</span>
        <span class="font-medium">Gesti√≥n de Usuarios</span>
    </div>
</div>

        <div class="sidebar-item px-3 py-2 rounded-lg cursor-pointer transition-colors w-full flex items-center"
             onclick="showSection('tickets', this)">
            <div class="flex items-center space-x-3 w-full">
                <span class="text-lg">üé´</span>
                <span class="font-medium">Gesti√≥n de Tickets</span>
            </div>
        </div>

        <div class="sidebar-item px-3 py-2 rounded-lg cursor-pointer transition-colors w-full flex items-center"
             onclick="showSection('reports', this)">
            <div class="flex items-center space-x-3 w-full">
                <span class="text-lg">üìà</span>
                <span class="font-medium">Reportes y Analytics</span>
            </div>
        </div>

       

        <div class="sidebar-item px-3 py-2 rounded-lg cursor-pointer transition-colors w-full flex items-center"
             onclick="showSection('settings', this)">
            <div class="flex items-center space-x-3 w-full">
                <span class="text-lg">‚öôÔ∏è</span>
                <span class="font-medium">Configuraci√≥n</span>
            </div>
        </div>

        <div class="sidebar-item px-3 py-2 rounded-lg cursor-pointer transition-colors w-full flex items-center"
             onclick="showSection('audit', this)">
            <div class="flex items-center space-x-3 w-full">
                <span class="text-lg">üîç</span>
                <span class="font-medium">Auditor√≠a</span>
            </div>
        </div>
    </nav>
</div>


        <!-- Contenido Principal -->
        <div class="flex-1 overflow-y-auto">
            <!-- Dashboard Section -->
            <div id="dashboard-section" class="p-6">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-900 mb-2">Dashboard Ejecutivo</h2>
                    <p class="text-gray-600">Resumen general del sistema ServiceDesk TI</p>
                </div>

                <!-- Stats Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    <div class="stat-card bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Total Tickets</p>
                                <p class="text-3xl font-bold text-gray-900">1,247</p>
                                <p class="text-sm text-green-600">‚Üó +12% vs mes anterior</p>
                            </div>
                            <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üé´</span>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Usuarios Activos</p>
                                <p class="text-3xl font-bold text-gray-900">342</p>
                                <p class="text-sm text-green-600">‚Üó +8% vs mes anterior</p>
                            </div>
                            <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">üë•</span>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Tiempo Promedio</p>
                                <p class="text-3xl font-bold text-gray-900">2.4h</p>
                                <p class="text-sm text-red-600">‚Üó +5% vs mes anterior</p>
                            </div>
                            <div class="w-12 h-12 bg-yellow-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">‚è±Ô∏è</span>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm font-medium text-gray-600">Satisfacci√≥n</p>
                                <p class="text-3xl font-bold text-gray-900">94%</p>
                                <p class="text-sm text-green-600">‚Üó +2% vs mes anterior</p>
                            </div>
                            <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                                <span class="text-2xl">‚≠ê</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Charts Row -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Tickets por Estado</h3>
                        <div class="chart-container">
                            <canvas id="statusChart"></canvas>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Tendencia Mensual</h3>
                        <div class="chart-container">
                            <canvas id="trendChart"></canvas>
                        </div>
                    </div>
                </div>



                
    


                <!-- Recent Activity -->
                <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Actividad Reciente del Sistema</h3>
                    <div class="space-y-4">
                        <div class="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg">
                            <span class="text-2xl">üÜï</span>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">Nuevo usuario registrado</p>
                                <p class="text-sm text-gray-600">Mar√≠a Rodr√≠guez se uni√≥ al departamento de Ventas</p>
                            </div>
                            <span class="text-sm text-gray-500">Hace 5 min</span>
                        </div>
                        <div class="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg">
                            <span class="text-2xl">‚ö†Ô∏è</span>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">Ticket urgente asignado</p>
                                <p class="text-sm text-gray-600">TK-1248 - Servidor principal sin respuesta</p>
                            </div>
                            <span class="text-sm text-gray-500">Hace 12 min</span>
                        </div>
                        <div class="flex items-center space-x-4 p-3 bg-gray-50 rounded-lg">
                            <span class="text-2xl">‚úÖ</span>
                            <div class="flex-1">
                                <p class="font-medium text-gray-900">Integraci√≥n completada</p>
                                <p class="text-sm text-gray-600">Conexi√≥n con Microsoft Teams establecida</p>
                            </div>
                            <span class="text-sm text-gray-500">Hace 1 hora</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Users Section -->
            <div id="users-section" class="p-6 hidden">
                <div class="mb-6 flex justify-between items-center">
                    <div>
                        <h2 class="text-2xl font-bold text-gray-900 mb-2">Gesti√≥n de Usuarios</h2>
                        <p class="text-gray-600">Administra usuarios, roles y permisos del sistema</p>
                    </div>
                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors" onclick="showCreateUserModal()">
                        ‚ûï Nuevo Usuario
                    </button>
                </div>

                <!-- User Stats -->
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                <span>üë§</span>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">EndUsers</p>
                                <p class="text-xl font-bold">287</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center">
                                <span>üë®‚Äçüíª</span>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Agentes</p>
                                <p class="text-xl font-bold">24</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-yellow-100 rounded-lg flex items-center justify-center">
                                <span>üë®‚Äçüíº</span>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Supervisores</p>
                                <p class="text-xl font-bold">8</p>
                            </div>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center">
                                <span>üë®‚Äçüíº</span>
                            </div>
                            <div>
                                <p class="text-sm text-gray-600">Administradores</p>
                                <p class="text-xl font-bold">3</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Users Table -->
<!-- Users Table -->
<div class="bg-white rounded-xl shadow-sm border border-gray-200 p-6">
    <!-- Header: T√≠tulo + Buscador + Filtro de Roles -->
    <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-semibold text-gray-900">Lista de Usuarios</h3>
        <div class="flex space-x-3">
            <input type="text" 
                   id="userSearch"
                   placeholder="Buscar usuarios..." 
                   class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500">
            <select id="roleFilter" class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500">
                <option value="">Todos los roles</option>
                <option value="enduser">EndUser</option>
                <option value="agente">Agentes</option>
                <option value="supervisor">Supervisores</option>
                <option value="admin">Administradores</option>
            </select>
        </div>
    </div>

    <!-- Tabla de usuarios -->
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Usuario</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Rol</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Departamento</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Estado</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">√öltimo Acceso</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
                </tr>
            </thead>
            <tbody id="usersTableBody" class="bg-white divide-y divide-gray-200">
                <!-- Aqu√≠ se cargar√°n los usuarios desde JS -->
            </tbody>
        </table>
    </div>
</div>
            </div>

            <!-- Tickets Section -->
            <div id="tickets-section" class="p-6 hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-900 mb-2">Gesti√≥n de Tickets</h2>
                    <p class="text-gray-600">Supervisa y administra todos los tickets del sistema</p>
                </div>

                <!-- Ticket Stats -->
                <div class="grid grid-cols-1 md:grid-cols-5 gap-4 mb-6">
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-blue-600">45</p>
                            <p class="text-sm text-gray-600">Abiertos</p>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-yellow-600">32</p>
                            <p class="text-sm text-gray-600">En Progreso</p>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-purple-600">18</p>
                            <p class="text-sm text-gray-600">Pendientes</p>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-green-600">156</p>
                            <p class="text-sm text-gray-600">Resueltos</p>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg p-4 border border-gray-200">
                        <div class="text-center">
                            <p class="text-2xl font-bold text-red-600">8</p>
                            <p class="text-sm text-gray-600">Urgentes</p>
                        </div>
                    </div>
                </div>

 <!-- Tickets Management -->
<div class="bg-white rounded-xl shadow-sm border border-gray-200">
    <div class="p-6 border-b border-gray-200">
        <div class="flex justify-between items-center">
            <h3 class="text-lg font-semibold text-gray-900">Tickets Recientes</h3>
            <div class="flex space-x-3">
                <input type="text" 
                       id="ticketSearch"
                       placeholder="Buscar tickets..." 
                       class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 w-64">
                
                <select id="ticketStatusFilter" class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                    <option value="">Todos los estados</option>
                    <option value="abierto">Abiertos</option>
                    <option value="en-progreso">En progreso</option>
                    <option value="pendiente">Pendientes</option>
                </select>

                <select id="ticketCategoryFilter" class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                    <option value="">Todas las categor√≠as</option>
                    <option value="hardware">Hardware</option>
                    <option value="software">Software</option>
                    <option value="red">Red</option>
                </select>
            </div>
        </div>
    </div>
    <div class="p-6">
        <div class="space-y-4" id="ticketsList">
            <!-- Tickets se cargar√°n desde JS -->
        </div>
    </div>
</div>
            </div>

            <!-- Reports Section -->
            <div id="reports-section" class="p-6 hidden">
                <div class="mb-6">
                    <h2 class="text-2xl font-bold text-gray-900 mb-2">Reportes y Analytics</h2>
                    <p class="text-gray-600">An√°lisis detallado del rendimiento del sistema</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Rendimiento por Agente</h3>
                        <div class="chart-container">
                            <canvas id="agentPerformanceChart"></canvas>
                        </div>
                    </div>

                    <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
                        <h3 class="text-lg font-semibold text-gray-900 mb-4">Tickets por Categor√≠a</h3>
                        <div class="chart-container">
                            <canvas id="categoryChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>

    <!-- Configuraci√≥n Section -->
<div id="settings-section" class="p-6 hidden">
    <!-- T√≠tulo de secci√≥n -->
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-2">Configuraci√≥n del Sistema</h2>
        <p class="text-gray-600">Administra la configuraci√≥n general del ServiceDesk</p>
    </div>

    <!-- Grid de configuraci√≥n -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- Tiempo esperado por categor√≠a -->
        <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200 flex flex-col justify-between">
            <div>
                <h3 class="text-lg font-semibold text-gray-900 mb-4">Tiempo Esperado por Categor√≠a</h3>
                <p class="text-gray-600 mb-4">Define el tiempo esperado de respuesta seg√∫n la categor√≠a del ticket (en horas):</p>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">üñ•Ô∏è Hardware</label>
                        <input type="number" id="time-hardware" value="24" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">üíæ Software</label>
                        <input type="number" id="time-software" value="48" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">üåê Red</label>
                        <input type="number" id="time-network" value="36" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">üìß Correo</label>
                        <input type="number" id="time-email" value="12" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">üìû Tel√©fono</label>
                        <input type="number" id="time-phone" value="8" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">üîê Accesos</label>
                        <input type="number" id="time-access" value="6" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">üìù Otro</label>
                        <input type="number" id="time-other" value="24" class="w-full px-3 py-2 border border-gray-300 rounded-lg">
                    </div>
                </div>
            </div>

            <!-- Bot√≥n Guardar -->
            <button onclick="saveCategoryTimes()" class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors mt-4 self-start">
                üíæ Guardar
            </button>
        </div>

        <!-- Respaldo y restauraci√≥n -->
        <div class="bg-white rounded-xl shadow-sm p-6 border border-gray-200">
            <h3 class="text-lg font-semibold text-gray-900 mb-4">Respaldo y Restauraci√≥n</h3>
            <p class="text-sm text-gray-600 mb-6">
                Desde aqu√≠ puedes crear copias de seguridad del sistema o restaurar datos desde un respaldo existente.
            </p>

            <div class="space-y-6">
                <div class="flex items-center justify-between p-0 rounded-lg">
                    <div>
                        <p class="text-sm font-medium text-gray-900">Copia de seguridad manual</p>
                        <p class="text-xs text-gray-500">Genera una copia de todos los datos del sistema.</p>
                    </div>
                    <button class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm transition-colors flex items-center space-x-1" onclick="backupSystem()">
                        üíæ Crear respaldo
                    </button>
                </div>

                <div class="p-0 rounded-lg border-t border-gray-200 pt-6">
                    <p class="text-sm font-medium text-gray-900">Restaurar desde respaldo</p>
                    <p class="text-xs text-gray-500 mb-3">Restaura los datos desde un archivo de respaldo.</p>
                    
                    <div class="flex items-center space-x-2"> 
                        <input type="file" id="restoreFile" class="hidden"> 
                        
                        <label for="restoreFile" class="bg-gray-200 hover:bg-gray-300 text-gray-700 px-4 py-2 text-sm transition-colors cursor-pointer rounded-lg border border-gray-300 whitespace-nowrap">
                            Seleccionar archivo
                        </label>
                        
                        <span id="fileName" class="text-sm text-gray-500 flex-1 whitespace-nowrap">Sin archivos seleccionados</span>

                        <button class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg text-sm transition-colors whitespace-nowrap flex items-center space-x-1 ml-auto" onclick="restoreSystem()">
                            ‚ôªÔ∏è Restaurar
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

            <!-- Audit Section -->
<div id="audit-section" class="p-6 hidden">
    <div class="mb-6">
        <h2 class="text-2xl font-bold text-gray-900 mb-2">Auditor√≠a del Sistema</h2>
        <p class="text-gray-600">Registro de todas las actividades del sistema</p>
    </div>

    <div class="bg-white rounded-xl shadow-sm border border-gray-200">
        <div class="p-6 border-b border-gray-200">
            <div class="flex justify-between items-center">
                <h3 class="text-lg font-semibold text-gray-900">Registro de Auditor√≠a</h3>
                <div class="flex space-x-3">
                    <input type="text" 
                           id="auditSearch"
                           placeholder="Buscar en registro..." 
                           class="px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-blue-500 w-64">
                    
                    <input type="date" class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                    <select class="px-3 py-2 border border-gray-300 rounded-lg text-sm">
                        <option>Todas las acciones</option>
                        <option>Login/Logout</option>
                        <option>Creaci√≥n de tickets</option>
                        <option>Modificaciones</option>
                    </select>
                </div>
            </div>
        </div>
        <div class="p-6">
            <div class="space-y-4" id="auditLog">
                </div>
        </div>
    </div>
</div>
        </div>
    </div>

<!-- Modal de creaci√≥n de usuario -->
<div id="createUserModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-xl w-96 p-6">
    <h2 class="text-xl font-semibold mb-4 text-gray-800">Nuevo Usuario</h2>
    <form onsubmit="createUser(event)">
      <div class="mb-3">
        <label for="userName" class="block text-sm font-medium text-gray-700">Nombre completo</label>
        <input type="text" id="userName" class="mt-1 w-full border border-gray-300 rounded-md p-2 focus:ring-blue-500 focus:border-blue-500" required>
      </div>
      <div class="mb-3">
        <label for="userEmail" class="block text-sm font-medium text-gray-700">Correo electr√≥nico</label>
        <input type="email" id="userEmail" class="mt-1 w-full border border-gray-300 rounded-md p-2 focus:ring-blue-500 focus:border-blue-500" required>
      </div>
      <div class="mb-3">
        <label for="userRole" class="block text-sm font-medium text-gray-700">Rol</label>
        <select id="userRole" class="mt-1 w-full border border-gray-300 rounded-md p-2 focus:ring-blue-500 focus:border-blue-500">
          <option value="EndUser">EndUser</option>
          <option value="Agente">Agente</option>
          <option value="Supervisor">Supervisor</option>
          <option value="Administrador">Administrador</option>
        </select>
      </div>
      <div class="mb-4">
  <label for="userDept" class="block text-sm font-medium text-gray-700">Departamento</label>
  <select id="userDept" class="mt-1 block w-full border border-gray-300 rounded-md p-2">
    <option>Ventas</option>
    <option>TI</option>
    <option>Contabilidad</option>
    <option>Soporte</option>
  </select>
</div>

      <div class="flex justify-end space-x-2 mt-5">
        <button type="button" onclick="closeCreateUserModal()" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md">Cancelar</button>
        <button type="submit" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md">Guardar</button>
      </div>
    </form>
  </div>
  

  


</div>

<div id="editUserModal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-50">
  <div class="bg-white rounded-lg shadow-xl w-96 p-6">
    <h2 class="text-xl font-semibold mb-4 text-gray-800">Editar Usuario</h2>
    <form id="editUserForm">
      <label for="userNameEdit" class="block text-sm font-medium text-gray-700 mt-2">Nombre completo</label>
      <input type="text" id="userNameEdit" class="w-full border border-gray-300 rounded-md p-2" required />

      <label for="userEmailEdit" class="block text-sm font-medium text-gray-700 mt-2">Correo electr√≥nico</label>
      <input type="email" id="userEmailEdit" class="w-full border border-gray-300 rounded-md p-2" required />

      <label for="userRoleEdit" class="block text-sm font-medium text-gray-700 mt-2">Rol</label>
      <select id="userRoleEdit" class="w-full border border-gray-300 rounded-md p-2">
        <option value="EndUser">EndUser/option>
        <option value="Agente">Agente</option>
        <option value="Supervisor">Supervisor</option>
        <option value="Administrador">Administrador</option>
      </select>

      <label for="userDeptEdit" class="block text-sm font-medium text-gray-700 mt-2">Departamento</label>
      <select id="userDeptEdit" class="w-full border border-gray-300 rounded-md p-2">
        <option value="Ventas">Ventas</option>
        <option value="TI">TI</option>
        <option value="Contabilidad">Contabilidad</option>
        <option value="Soporte">Soporte</option>
      </select>

      <div class="flex justify-end space-x-2 mt-5">
        <button type="button" onclick="closeEditUserModal()" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md">Cancelar</button>
        <button type="submit" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-md">Guardar</button>
      </div>
    </form>
  </div>
</div>



 <!-- Modal de edici√≥n de perfil  (PONER AL FINAL PARA QUE SIRVA EN TODA LA VISTA) -->

<div id="profileModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden z-50">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-lg shadow-xl max-w-md w-full fade-in">
                <div class="px-6 py-4 border-b border-gray-200 flex justify-between items-center">
                    <h3 class="text-lg font-semibold text-gray-900">Editar Perfil</h3>
                    <button onclick="closeProfileModal()" class="text-gray-400 hover:text-gray-600">‚úï</button>
                </div>
                <form class="p-6 space-y-4" onsubmit="updateProfile(event)">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Nombre</label>
                        <input type="text" id="profileInputName" required class="w-full border border-gray-300 rounded-lg px-3 py-2" value="Carlos Mendoza">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Correo</label>
                        <input type="email" id="profileInputEmail" required class="w-full border border-gray-300 rounded-lg px-3 py-2" value="carlos.mendoza@empresa.com">
                    </div>
                    <div class="flex justify-end space-x-3 pt-4">
                        <button type="button" class="px-4 py-2 text-sm text-gray-600 hover:text-gray-800" onclick="closeProfileModal()">Cancelar</button>
                        <button type="submit" class="bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg text-sm font-medium">Guardar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>



    <script src="../JS/admin.js"></script>
</body>
</html>